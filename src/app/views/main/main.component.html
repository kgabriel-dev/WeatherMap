<div class="flex flex-row gap-4 p-4" style="width: 100%; height: 100%">
  <div class="flex flex-column flex-grow-1 gap-2 pr-4 border-right-2 border-primary-500 h-full">
    <img style="object-fit: contain; max-height: 87vh;" #weatherImage [src]="currentWeatherImageSrc" />

    <!-- spacing -->
    <div class="flex-grow-1"></div>

    <div class="flex flex-row align-items-center gap-4 pl-4" style="height: 30px;">
      <p-progressBar [value]="((currentWeatherImageIndex + 1) / numberOfWeatherImages) * 100" class="w-full">
        <ng-template pTemplate="content">
          <span>{{currentWeatherImageIndex + 1}} / {{numberOfWeatherImages}}</span>
        </ng-template>
      </p-progressBar>

      <div class="flex flex-row flex-shrink-1 gap-1">
        <p-button icon="pi pi-arrow-left" size="small" (onClick)="changeWeatherImageIndex(-1)" />
        <p-button icon="pi pi-pause-circle" size="small" (onClick)="pauseWeatherImageAnimation()" />
        <p-button icon="pi pi-arrow-right" size="small" (onClick)="changeWeatherImageIndex(+1)" />
      </div>
    </div>
  </div>

  <div class="flex flex-column flex-grow-0 gap-3 h-full" style="width: 20%; min-width: 180px; max-width: 350px;">
    <div class="flex flex-column flex-grow-1 gap-3 pr-4 overflow-y-auto">
      <label for="location">Location:</label>
    <p-dropdown
      [options]="locationsService.getLocations()"
      [(ngModel)]="selectedLocation"
      optionLabel="name"
      optionValue="id"
      placeholder="Select a location"
      [style]="{'width': '100%'}" />

      <label for="latitude">Latitude:</label>
      <p-inputNumber inputId="latitude" [(ngModel)]="latitude" mode="decimal" [minFractionDigits]="0" [maxFractionDigits]="6" [inputStyle]="{'width': '100%'}" styleClass="w-full" />

      <label for="longitude">Latitude:</label>
      <p-inputNumber inputId="longitude" [(ngModel)]="longitude" mode="decimal" [minFractionDigits]="0" [maxFractionDigits]="6" [inputStyle]="{'width': '100%'}" styleClass="w-full" />

      <label for="size">Size:</label>
      <div class="flex flex-row">
        <p-inputNumber inputId="size" [inputStyle]="{'text-align': 'right' , 'border-radius': 'var(--border-radius) 0 0 var(--border-radius)', 'width': '100%'}" styleClass="w-full" class="w-full" />
        <p-dropdown
          [options]="['km', 'mi']"
          [style]="{'width': '7rem', 'border-radius': '0 var(--border-radius) var(--border-radius) 0'}" />
      </div>

      <label for="resolution">Resolution (n &#x2715; n steps):</label>
      <p-inputNumber inputId="resolution" [(ngModel)]="resolution" mode="decimal" [inputStyle]="{'width': '100%'}" styleClass="w-full" />

      <label for="forecast">Forecast length:</label>
      <div class="flex flex-row">
        <p-inputNumber inputId="forecast" [inputStyle]="{'text-align': 'right' , 'border-radius': 'var(--border-radius) 0 0 var(--border-radius)', 'width': '100%'}" styleClass="w-full" class="w-full" />
        <p-dropdown
          [options]="['hours', 'days']"
          [style]="{'width': '7rem', 'border-radius': '0 var(--border-radius) var(--border-radius) 0'}" />
      </div>

      <label for="source">Source:</label>
      <p-dropdown
        [options]="['OpenMeteo', 'BrightSky (DWD)']"
        [style]="{'width': '100%'}" />

      <label for="condition">Condition:</label>
      <p-dropdown
        inputId="condition"
        [options]="['Cloudiness (%)']"
        [style]="{'width': '100%'}" />
    </div>

    <div class="flex-grow-1 border-bottom-2 border-primary-500"></div>
    <p-button label="Generate images" styleClass="w-full" />
  </div>
</div>
